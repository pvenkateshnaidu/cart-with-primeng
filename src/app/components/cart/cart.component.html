<p-table [value]="users" dataKey="id" [tableStyle]="{ 'min-width': '50rem' }"  styleClass="p-datatable-gridlines">
  <ng-template pTemplate="header">
    <tr>
      <th style="width: 5rem"></th>
      <th>ID</th>
      <th>USER ID</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body"  let-cartUser  let-expanded="expanded">
    <tr>
      <td>
        <button type="button" pButton pRipple [pRowToggler]="cartUser" class="p-button-text p-button-rounded p-button-plain" [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></button>
      </td>
      <td>{{ cartUser.id }}</td>
      <td>{{ cartUser.userId }}</td>
    </tr>
  </ng-template>
  <ng-template pTemplate="rowexpansion" let-user>
    <tr>
      <td colspan="7">
          <!-- Start-->

          <p-table [value]="user.products" dataKey="id">
            <ng-template pTemplate="header">
                <tr>
                  <th>Product Id</th>
                  <th>Quantity</th>

                </tr>
  </ng-template>
  <ng-template pTemplate="body" let-product>
    <tr>
      <td>{{ product.productId }}</td>
      <td>{{ product.quantity }}</td>

    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <tr>
      <td colspan="6">There are no order for this product yet.</td>
    </tr>
  </ng-template>
</p-table>
        <!-- end -->

      </td>
    </tr>
  </ng-template>

</p-table>
